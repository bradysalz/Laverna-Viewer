<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Javascript Includes -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script> 

	<!-- CSS Includes --> 
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css">
    <!--<![endif]-->
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='nested-list.css')}}">

	<!-- Collapsible Lists Snippet -->
	<script type="text/javascript">
	$(function() {        
		$('.list-group-item').on('click', function() {
			$('.glyphicon', this)
	  		.toggleClass('glyphicon-chevron-right')
	  		.toggleClass('glyphicon-chevron-down');
		});
	});

    function load_note(callback_url) {
        // $("#content").load(callback_url, function() {
        //     MathJax.Hub.Queue(["Typeset", MathJax.Hub, "content"]);
        //     $('table').addClass('pure-table pure-table-bordered');   
        // });

        $.getJSON(callback_url, function( data ) {
            // console.log(data);
            // var data = data['responseJSON'];
            // console.log(data);
            $('#title').html(data['title']);
            $('#content').html(data['content']);
            MathJax.Hub.Queue(["Typeset", MathJax.Hub, "content"]);
            $('table').addClass('pure-table pure-table-bordered'); 
            
            var created = new Date(data['created']);
            $('#create_date').html('Created: ' + created.toDateString());

            var edited = new Date(data['updated']);
            $('#edit_date').html('Changed: ' + edited.toDateString());

        });
    }
    </script>
</head>

<body>
    <div class="pure-g">
        <div class="pure-u-1-4">
            <div id="toc">
                <div id="refresh">
                    <form action="/refresh" method="post">
                        <button type="submit" class="pure-button pure-button-primary">
                            <span class="glyphicon glyphicon-refresh"> Refresh</span>   
                         </button>
                    </form>
                </div>
            {% block table_of_contents %}
            {% endblock %}
            </div>
        </div>

        <div class="pure-u-1-3" id="note">
            <h1 id="title"></h1>
            <div id="content"></div>
        </div> 

        <div class="pure-u-1-12" id="filler"></div>

        <div class="pure-u-1-6" id="detail">
            <h4 id='create_date'></h4>
            <h4 id='edit_date'></h4>
        </div>
    </div>
</body>
</html>
